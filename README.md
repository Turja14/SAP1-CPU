# SAP-1 CPU Implementation
---

## 1. Introduction

### 1.1 Project Overview
This project involves the design and implementation of a Simple-As-Possible (SAP-1) CPU using **Logisim Evolution**. The SAP-1 architecture is a minimalistic CPU model used for educational purposes to demonstrate basic computer architecture principles.

### 1.2 Purpose and Goals
The primary objective of this project is to create a fully functional SAP-1 CPU that automates the **fetch-decode-execute** cycle. By adding a **ROM-based bootloader**, the CPU can load machine code programs into memory, simplifying the process and reducing human error. The project aims to execute basic operations like addition, subtraction, shift, rotate and demonstrate the core operations of a CPU.

### 1.3 SAP-1 CPU Architecture
The SAP-1 CPU architecture features a simple design with essential components such as a **Program Counter**, **Instruction Register**, **Accumulator**, **Arithmetic Logic Unit (ALU)**, and a **Control Unit**. The processor follows a straightforward fetch-decode-execute cycle, with a hardwired control unit to manage the flow of operations. The addition of the ROM bootloader enhances the functionality by enabling automatic program loading.

---
## 2. Design and Implementation

### 2.1 Overview of SAP-1 Architecture
The **SAP-1** architecture is designed to be simple yet effective for teaching the fundamentals of CPU operation. It consists of basic components such as registers, memory, an ALU, and a control unit, all connected to facilitate the **fetch-decode-execute** cycle. The design emphasizes clarity and ease of understanding, making it ideal for educational purposes.

### 2.2 Key Components

#### **Program Counter (PC)**
The **Program Counter** holds the address of the next instruction to be fetched from memory. It increments automatically after each instruction cycle unless explicitly modified by control signals (e.g., in jump operations).

#### **Instruction Register (IR)**
The **Instruction Register** temporarily stores the instruction that is currently being executed. After fetching from memory, the opcode is decoded and used to determine the next action in the execution cycle.

#### **Registers (A, B)**
The SAP-1 CPU features two **general-purpose registers**:
- **A Register (Accumulator)**: Used to hold the result of arithmetic and logic operations.
- **B Register**: Used for temporary storage of operands, especially in addition or load operations.

#### **Memory**
The **memory** holds both the instructions and data used by the processor. The program is stored in the ROM, while RAM is used for storing variables and results.

#### **ALU (Arithmetic Logic Unit)**
The **ALU** performs arithmetic and logical operations, such as **addition, subtraction**, and **comparison**. It is controlled by the control unit, and its output is stored in the A register or used for flag generation.

#### **Control Unit**
The **Control Unit** is responsible for generating the control signals that dictate the operation of the CPU. It automates the fetch-decode-execute cycle and orchestrates the interaction between components like the PC, IR, registers, and ALU.

### 2.3 Control Unit Design and Functionality
The **Control Unit** in the SAP-1 design is **hardwired**, meaning the control signals are generated by combinational logic rather than a microprogrammed unit. It manages the sequencing of operations, including:
- Fetching the next instruction from memory.
- Decoding the instructionâ€™s opcode.
- Executing the appropriate operation based on the instruction type (e.g., `LDA`, `ADD`, `HALT`).
  
The control unit uses **timing signals** to orchestrate these steps in sync with the system clock.

### 2.4 ROM-Based Bootloader
The **ROM-based Bootloader** is a significant enhancement in this design. It allows the CPU to automatically load machine code into memory when powered on, eliminating the need for manual data entry. This bootloader reads a predefined set of instructions stored in ROM and loads them into RAM, preparing the CPU to begin execution immediately.

### 2.5 Fetch-Decode-Execute Cycle
The SAP-1 CPU operates on the classic **fetch-decode-execute** cycle:
1. **Fetch**: The **Program Counter (PC)** provides the address for the next instruction, which is fetched from memory and stored in the **Instruction Register (IR)**.
2. **Decode**: The opcode in the **IR** is decoded by the **Control Unit**, which generates the necessary control signals.
3. **Execute**: The instruction is executed, either performing an operation with the **ALU**, loading data into registers, or writing back to memory.
---
